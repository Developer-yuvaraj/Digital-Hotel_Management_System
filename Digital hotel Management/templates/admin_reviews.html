<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin ‚Äì Reviews</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">

<!-- HEADER -->
<header class="bg-gradient-to-r from-pink-600 to-red-500 text-white p-5 shadow">
  <div class="max-w-7xl mx-auto flex justify-between items-center">
    <h1 class="text-2xl font-bold">‚≠ê Review Management</h1>
    <a href="/admin" class="bg-white text-red-600 px-4 py-2 rounded font-semibold">
      ‚Üê Back to Admin
    </a>
  </div>
</header>

<!-- CONTENT -->
<div class="max-w-7xl mx-auto p-6 grid gap-6 md:grid-cols-2 lg:grid-cols-3">

{% for r in reviews %}
<div class="bg-white rounded-xl shadow hover:shadow-xl transition p-5 flex flex-col">

  <!-- USER -->
  <div class="flex items-center gap-3 mb-3">
    <div class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-xl">
      üë§
    </div>
    <div>
      <p class="font-bold">{{ r.name }}</p>
      <p class="text-xs text-gray-500">{{ r.created_at }}</p>
    </div>
  </div>

  <!-- STARS -->
  <div class="flex mb-2">
    {% for i in range(1,6) %}
      {% if i <= r.rating %}
        <span class="text-yellow-400 text-xl">‚òÖ</span>
      {% else %}
        <span class="text-gray-300 text-xl">‚òÖ</span>
      {% endif %}
    {% endfor %}
  </div>

  <!-- MESSAGE -->
  <p class="text-gray-700 flex-1">
    {{ r.message }}
  </p>

  <!-- IMAGE -->
  {% if r.image %}
  <img src="/static/reviews/{{ r.image }}"
       class="mt-3 rounded-lg h-40 w-full object-cover">
  {% endif %}

  <!-- STATUS -->
  <div class="mt-3 text-sm">
    Status:
    {% if r.active == 1 %}
      <span class="text-green-600 font-semibold">Visible</span>
    {% else %}
      <span class="text-red-500 font-semibold">Hidden</span>
    {% endif %}
  </div>

  <!-- ACTIONS -->
  <div class="mt-4 flex gap-2">
    <a href="/admin/review-toggle/{{ r.id }}"
       class="flex-1 text-center py-2 rounded bg-blue-500 text-white hover:bg-blue-600">
      {% if r.active == 1 %} Hide {% else %} Show {% endif %}
    </a>

    <a href="/admin/review-delete/{{ r.id }}"
       onclick="return confirm('Delete this review permanently?')"
       class="flex-1 text-center py-2 rounded bg-red-500 text-white hover:bg-red-600">
      Delete
    </a>
  </div>

</div>
{% endfor %}

{% if reviews|length == 0 %}
<p class="col-span-full text-center text-gray-500">
  No reviews found.
</p>
{% endif %}

</div>

</body>
</html>
